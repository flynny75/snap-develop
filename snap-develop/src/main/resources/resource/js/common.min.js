define(["require","exports","jquery"],function(n,e,m){(function(b){function e(){return(new Date).getTime()}b.openDialog=function(a,d,c,g){var b=e();a=window.open(a,d+b,"height\x3d"+g+",width\x3d"+c);void 0!=a&&a.focus&&(a.resizeTo(c,g),a.focus());return!1};b.extractParameter=function(a){a=a.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");a=(new RegExp("[\\?\x26]"+a+"\x3d([^\x26#]*)")).exec(window.location.href);return null==a?"":a[1]};b.decodeValue=function(a){if(0<a.length){var d=("@"+a).substring(2);
if("\x3c"==a.charAt(0)){a=d.toString();for(var d="",c=0;c<a.length;c+=2)var g=a.substr(c,2),g=parseInt(g,16),d=d+String.fromCharCode(g)}return d}return null};b.updateTableRecords=function(a,d){var c=w2ui[d];if(c){var g=m("#grid_"+d+"_records").prop("scrollTop"),b=c.records;if(a.length==b.length){for(var f=!1,e=0;e<a.length;e++){var h=b[e],l=a[e];if(h.length!=l.length){f=!0;break}for(var k in h)if(h.hasOwnProperty(k)){if(!l.hasOwnProperty(k)){f=!0;break}if(h[k]!=l[k]){f=!0;break}}}f&&(c.records=a,
c.refresh())}else c.records=a,c.refresh();a.length>b.length&&(c.reload(),m("#grid_"+d+"_records").prop("scrollTop",g))}};b.isChildElementVisible=function(a,d){var c=d.getBoundingClientRect(),b=a.getBoundingClientRect(),e=c.top+c.height,f=b.top+a.clientHeight;return c.top>b.top&&e<f};b.calculateScrollOffset=function(a,b){var c=b.getBoundingClientRect(),d=a.getBoundingClientRect(),e=c.top,f=d.top;if(e<f)return e-f;c=c.top+c.height;d=d.top+a.clientHeight;return c>d?c-d:0};b.stringEndsWith=function(a,
b){return a&&b?a.slice(-b.length)==b:!1};b.isMacintosh=function(){return-1<navigator.platform.indexOf("Mac")};b.isWindows=function(){return-1<navigator.platform.indexOf("Win")};b.escapeHtml=function(a){return a.replace(/&/g,"\x26amp;").replace(/</g,"\x26lt;").replace(/>/g,"\x26gt;").replace(/"/g,"\x26quot;").replace(/'/g,"\x26#039;")};b.clearHtml=function(a){return a.replace(/<br>/g,"").replace(/&quot;/g,'"').replace(/&lt;/g,"\x3c").replace(/&gt;/g,"\x3e").replace(/&nbsp;/g,"").replace(/&amp;/g,"\x26")};
b.currentTime=e})(e.Common||(e.Common={}))});
