define(["require","exports","jquery"],function(t,n,q){(function(b){function n(a,d){var c;if(d&&0<d.length){var e=d[0].field,k=d[0].direction;c=[];for(var b={},g=0;g<a.length;g++){var l=a[g];if(l){var f=l[e].toLowerCase(),h=b[f];null==h&&(h=[],b[f]=h);h.push(l)}}e=[];for(f in b)b.hasOwnProperty(f)&&e.push(f);e.sort();"asc"!=k&&e.reverse();for(g=0;g<e.length;g++)for(f=e[g],h=b[f],k=0;k<h.length;k++)l=h[k],c.push(l)}else c=a;return c}function r(){return(new Date).getTime()}b.openDialog=function(a,d,
c,e){var b=r();a=window.open(a,d+b,"height\x3d"+e+",width\x3d"+c);void 0!=a&&a.focus&&(a.resizeTo(c,e),a.focus());return!1};b.extractParameter=function(a){a=a.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");a=(new RegExp("[\\?\x26]"+a+"\x3d([^\x26#]*)")).exec(window.location.href);return null==a?"":a[1]};b.decodeValue=function(a){if(0<a.length){var d=("@"+a).substring(2);if("\x3c"==a.charAt(0)){a=d.toString();for(var d="",c=0;c<a.length;c+=2)var e=a.substr(c,2),e=parseInt(e,16),d=d+String.fromCharCode(e)}return d}return null};
b.updateTableRecords=function(a,d){var c=w2ui[d];if(c){var e=q("#grid_"+d+"_records").prop("scrollTop"),b=c.records,m=c.sortData;if(a.length==b.length){for(var g=!1,l=0;l<a.length;l++){var f=b[l],h=a[l];if(!f||f.length!=h.length){g=!0;break}for(var p in f)if(f.hasOwnProperty(p)){if(!h.hasOwnProperty(p)){g=!0;break}if(f[p]!=h[p]){g=!0;break}}}g&&(c.records=n(a,m),c.refresh())}else c.records=n(a,m),c.refresh();a.length>b.length&&(c.reload(),q("#grid_"+d+"_records").prop("scrollTop",e))}};b.isChildElementVisible=
function(a,d){var c=d.getBoundingClientRect(),b=a.getBoundingClientRect(),k=c.top+c.height,m=b.top+a.clientHeight;return c.top>b.top&&k<m};b.calculateScrollOffset=function(a,d){var c=d.getBoundingClientRect(),b=a.getBoundingClientRect(),k=c.top,m=b.top;if(k<m)return k-m;c=c.top+c.height;b=b.top+a.clientHeight;return c>b?c-b:0};b.stringEndsWith=function(a,b){return a&&b&&a.length>=b.length?a.slice(-b.length)==b:!1};b.stringStartsWith=function(a,b){return a&&b&&a.length>=b.length?a.substring(0,b.length)===
b:!1};b.isMacintosh=function(){return-1<navigator.platform.indexOf("Mac")};b.isWindows=function(){return-1<navigator.platform.indexOf("Win")};b.escapeHtml=function(a){return a.replace(/&/g,"\x26amp;").replace(/</g,"\x26lt;").replace(/>/g,"\x26gt;").replace(/"/g,"\x26quot;").replace(/'/g,"\x26#039;")};b.clearHtml=function(a){return a.replace(/<br>/g,"").replace(/&quot;/g,'"').replace(/&lt;/g,"\x3c").replace(/&gt;/g,"\x3e").replace(/&nbsp;/g,"").replace(/&amp;/g,"\x26")};b.currentTime=r})(n.Common||
(n.Common={}))});
