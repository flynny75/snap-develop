var VariableManager;
(function(g){function q(a,f){var c=ThreadManager.focusedThread(),k=a+".*",h=a+".";if(null!=c){var d=f[c.thread];null==d&&(d=[],f[c.thread]=d);for(var c=[],b=0;b<d.length;b++){var l=d[b];0==l.indexOf(h)&&c.push(l)}for(b=0;b<c.length;b++)h=d.indexOf(c[b]),-1!=h&&d.splice(h,1);0==c.length&&d.push(k);return d}return null}function r(a,f,c){var k=[],h=[],d=1,b;for(b in a)a.hasOwnProperty(b)&&k.push(b);k.sort();for(var l=0;l<k.length;l++){b=k[l];var e=a[b],g=""+e.expandable,n=""+e.property,p=e.modifiers,
m="variableLeaf";0==e.depth&&c?m="variableExpression":"true"==n&&(m=-1!=p.indexOf("[private]")?"variableNodePrivate":-1!=p.indexOf("[protected]")?"variableNodeProtected":-1!=p.indexOf("[public]")?"variableNodePublic":"variableNode");n="\x3cdiv class\x3d'variableData'\x3e"+escapeHtml(e.value)+"\x3c/div\x3e";m="\x3cdiv title\x3d'"+escapeHtml(e.description)+"' style\x3d'padding-left: "+20*e.depth+"px;'\x3e\x3cdiv class\x3d'"+m+"'\x3e"+escapeHtml(e.name)+"\x3c/div\x3e\x3c/div\x3e";h.push({recid:d++,path:b,
name:m,value:n,type:e.type,expandable:"true"==g})}a=w2ui[f];null!=a&&(a.records=h,a.refresh())}var t={},u={};g.toggleExpandVariable=function(a){a=q(a,t);null!=a&&Command.browseScriptVariables(a)};g.toggleExpandEvaluation=function(a,f){var c=q(a,u);null!=c&&Command.browseScriptEvaluation(c,f,!1)};g.showVariables=function(){var a=ThreadManager.focusedThreadVariables(),f=ThreadManager.focusedThreadEvaluation();r(a,"variables",!1);r(f,"evaluation",!0)};g.clearEvaluation=function(){u={}};g.clearVariables=
function(){t={};w2ui.variables.records=[];w2ui.variables.refresh()}})(VariableManager||(VariableManager={}));ModuleSystem.registerModule("variables","Variables module: variables.js",null,null,["common"]);
