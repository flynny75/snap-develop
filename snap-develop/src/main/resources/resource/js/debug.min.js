define("require exports jquery w2ui ./common ./socket ./editor ./profiler ./variables ./console ./threads status commands tree".split(" "),function(D,k,d,p,q,n,w,x,r,y,m,z,A,t){(function(l){function k(){var c=q.Common.currentTime(),b={},a=0,f;for(f in g)if(g.hasOwnProperty(f)){var e=g[f];null!=e&&(e.time+1E4>c?b[f]=e:a++)}g=b;0<a&&h();A.Command.pingProcess()}function u(c,b,a){null!=a&&(g[a]=null);e==a&&(m.ThreadManager.terminateThreads(),v());h()}function B(c,b,a){b=JSON.parse(a);c=b.process;a=""+
b.focus;g[c]={resource:b.resource,system:b.system,time:b.time,running:"true"==""+b.running,focus:a,project:b.project,debug:"true"==""+b.debug};"true"==a?(b=g[c],null!=b&&null!=b.resource?(t.FileTree.createResourcePath(b.resource),d("#toolbarDebug").css("opacity","1.0"),d("#toolbarDebug").css("filter","alpha(opacity\x3d100)"),z.StatusPanel.showProcessStatus(b.resource,c,b.debug)):(d("#toolbarDebug").css("opacity","0.4"),d("#toolbarDebug").css("filter","alpha(opacity\x3d40)"),d("#process").html(""),
w.FileEditor.clearEditorHighlights()),e!=c&&(x.Profiler.clearProfiler(),m.ThreadManager.clearThreads(),r.VariableManager.clearVariables()),y.ProcessConsole.updateConsoleFocus(c),e=c):e==c&&v();h()}function v(){e=null;m.ThreadManager.clearThreads();r.VariableManager.clearVariables();d("#toolbarDebug").css("opacity","0.4");d("#toolbarDebug").css("filter","alpha(opacity\x3d40)");d("#process").html("")}function C(){g={};e=null;p.w2ui.debug.records=[];p.w2ui.debug.refresh()}function h(){var c=[],b=1,a;
for(a in g)if(g.hasOwnProperty(a)){var f=g[a];if(null!=f){var d=f.project;if(d==document.title||null==d){var d="\x3cdiv class\x3d'debugIdleRecord'\x3e"+a+"\x3c/div\x3e",k="WAITING",l="\x26nbsp;\x3cinput type\x3d'radio'\x3e\x3clabel\x3e\x3c/label\x3e",h="",n=f.debug,m=!1;e==a&&(l="\x26nbsp;\x3cinput type\x3d'radio' checked\x3e\x3clabel\x3e\x3c/label\x3e");null!=f.resource&&(h=t.FileTree.createResourcePath(f.resource),e==a&&n?(d="\x3cdiv class\x3d'debugFocusRecord'\x3e"+a+"\x3c/div\x3e",k="DEBUGGING"):
(d="\x3cdiv class\x3d'debugRecord'\x3e"+a+"\x3c/div\x3e",k="RUNNING"),h=h.resourcePath,m=!0);c.push({recid:b++,name:d,active:l,process:a,status:k,running:m,system:f.system,resource:f.resource,focus:e==a,script:h})}else console.log("Ignoring process "+a+" as it belongs to "+d)}}q.Common.updateTableRecords(c,"debug")}var g={},e=null;l.createStatus=function(){n.EventBus.createRoute("STATUS",B,C);n.EventBus.createRoute("TERMINATE",u);n.EventBus.createRoute("EXIT",u);setInterval(k,1E3)};l.isCurrentStatusFocusRunning=
function(){if(e){var c=g[statusProcess];if(c)return null!=c.resource}return!1};l.currentStatusFocus=function(){return e};l.showStatus=h})(k.DebugManager||(k.DebugManager={}))});
