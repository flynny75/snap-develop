var ModuleSystem;
(function(u){function v(d){var a=d.dependencies,k=d.description,g=d.name;if(!n[g]&&!q[g]){q[g]=!0;for(var c=0;c<a.length;c++)v(h[a[c]]);console.log("Starting module '"+g+"' ("+k+")");d.start();n[g]=!0}}var h={},q=[],n=[];u.registerModule=function(d,a,k,g){null==k&&(k=function(){});h[d]={name:d,description:a,start:k,dependencies:g}};u.loadModules=function(){var d={},a=[],k=[],g=[],c=[],l;for(l in h)if(h.hasOwnProperty(l)){var p=h[l],e=p.dependencies;if(null!=e)for(var r=e.length,f=0;f<r;f++){var t=
e[f],m=d[t];void 0==m&&(m={name:t,modules:[]},d[t]=m);m.modules.push(p);a.push(t)}g.push(l)}for(f=0;f<a.length;f++){l=a[f];for(e=r=0;e<g.length;e++)a[f]==g[e]&&r++;0==r&&k.push(l)}for(f=0;f<k.length;f++){l=k[f];m=d[l];a="Missing dependency '"+l+"', required by ";for(e=0;e<m.modules.length;e++)0<e&&(a+=", "),p=m.modules[e],a+="'",a+=p.name,a+="' (",a+=p.description,a+=")";c.push(a)}if(0<c.length)for(var b=0;b<c.length;b++)console.log(c[b]);else{for(b in h)h.hasOwnProperty(b)&&(c=h[b],d=c.description,
0==c.dependencies?(q[b]=!1,n[b]=!0,console.log("Starting independent module '"+b+"' ("+d+")"),c.start()):(q[b]=!1,n[b]=!1));for(b in h)h.hasOwnProperty(b)&&(c=h[b],n[b]||v(c))}}})(ModuleSystem||(ModuleSystem={}));window.addEventListener("load",ModuleSystem.loadModules,!1);
