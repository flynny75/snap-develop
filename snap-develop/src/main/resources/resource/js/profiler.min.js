var Profiler;
(function(e){function h(c,k,f){c=JSON.parse(f).results;k=[];f=[];for(var e=1,b=0,a=0;a<c.length;a++)b+=c[a].time;for(a=0;a<c.length;a++){var d=c[a].time;0<d&&(d=parseInt(d/b*100),f[a]=d)}for(a=0;a<c.length;a++){var b=c[a],d=FileTree.createResourcePath(b.resource),g="\x3cdiv class\x3d'profilerRecord'\x3e"+d.projectPath+"\x3c/div\x3e",h="\x3cdiv style\x3d'padding: 2px;'\x3e\x3cdiv style\x3d'height: 10px; background: #C61414; width: "+f[a]+"%;'\x3e\x3c/div\x3e\x3c/div\x3e",l=b.count/b.time/1E3;k.push({recid:e++,
resource:g,percentage:h,duration:b.time,line:b.line,count:b.count,average:l.toFixed(5),script:d.resourcePath})}w2ui.profiler.records=k;w2ui.profiler.refresh()}function g(){w2ui.profiler.records=[];w2ui.profiler.refresh()}e.startProfiler=function(){createRoute("PROFILE",h,g)};e.clearProfiler=g})(Profiler||(Profiler={}));ModuleSystem.registerModule("profiler","Profiler module: profiler.js",Profiler.startProfiler,["common","socket"]);
