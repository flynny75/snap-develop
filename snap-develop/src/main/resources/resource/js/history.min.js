var History;
(function(d){function c(){var a=window.location.hash,b=a.indexOf("#");-1!=b&&(a=a.substring(b+1),a=FileTree.createResourcePath(a),b=FileEditor.loadEditor().resource,null!=b&&b.resourcePath==a.resourcePath||FileExplorer.openTreeFile(a.resourcePath,function(){ace.edit("editor").setReadOnly(!1)}))}d.trackHistory=function(){$(window).on("hashchange",function(){c()});setTimeout(c,200)};d.showFileHistory=function(){var a=FileEditor.loadEditor().resource.projectPath;jQuery.ajax({url:"/history/"+document.title+
"/"+a,success:function(a){for(var b=[],d=1,e=0;e<a.length;e++){var c=a[e],f=FileTree.createResourcePath(c.path);b.push({recid:d++,resource:"\x3cdiv class\x3d'historyPath'\x3e"+f.filePath+"\x3c/div\x3e",date:c.date,script:f.resourcePath})}w2ui.history.records=b;w2ui.history.refresh()},async:!0})}})(History||(History={}));ModuleSystem.registerModule("history","History module: history.js",History.trackHistory,["common","editor"]);
