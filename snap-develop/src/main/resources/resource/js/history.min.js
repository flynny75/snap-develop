var History;
(function(c){function d(){var a=window.location.hash,b=a.indexOf("#");-1!=b&&(a=a.substring(b+1),a=FileTree.createResourcePath(a),b=FileEditor.loadEditor().resource,null!=b&&b.resourcePath==a.resourcePath||FileExplorer.openTreeFile(a.resourcePath,function(){}))}c.trackHistory=function(){$(window).on("hashchange",function(){d()});setTimeout(d,200)};c.showFileHistory=function(){var a=FileEditor.loadEditor().resource.projectPath;jQuery.ajax({url:"/history/"+document.title+"/"+a,success:function(a){for(var b=[],
c=1,e=0;e<a.length;e++){var f=a[e],d=FileTree.createResourcePath(f.path);b.push({recid:c++,resource:"\x3cdiv class\x3d'historyPath'\x3e"+d.filePath+"\x3c/div\x3e",date:f.date,time:f.timeStamp,script:d.resourcePath})}w2ui.history.records=b;w2ui.history.refresh()},async:!0})};c.navigateForward=function(){window.history.forward()};c.navigateBackward=function(){window.history.back()}})(History||(History={}));
ModuleSystem.registerModule("history","History module: history.js",null,History.trackHistory,["common","editor"]);
