
import android.os.Bundle;
import android.widget.TextView;

class ScoresCounter {
	static const TAG_SCORES = "scores";
	static const TAG_LINES = "lines";
	
	var scores = 0;
	var lines = 0;
	var scoreDelta = 4;
	
	const status;
	const format;
	
	new(status, format) {
		this.status = status;
		this.format = format;
	}

	reset() {
		scores = 0;
		lines = 0;
		updateStatus();
	}

	getScores() {
		return scores;
	}

	getLines() {
		return lines;
	}

	addScores() {
		scores += scoreDelta;
		updateStatus();
	}

	addLine() {
		lines++;
		updateStatus();
	}
	

	updateStatus() {
		status.setText(String.format(format, lines, scores));
	}

	storeTo(bundle) {
		bundle.putInt(TAG_LINES, lines);
		bundle.putInt(TAG_SCORES, scores);
	}

	restoreFrom(bundle) {
		this.lines = bundle.getInt(TAG_LINES);
		this.scores = bundle.getInt(TAG_SCORES);
	}	
}